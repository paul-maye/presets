% @documentation{presets}
% created by Paul Mayé

\ProvidesPackage{presets}

\RequirePackage[dvipsnames]{xcolor}
\RequirePackage[utf8]{inputenc}
\RequirePackage[american,french]{babel}
\RequirePackage[T1]{fontenc}
\RequirePackage{amsmath}
\RequirePackage{amsfonts}
\RequirePackage{esint}
\RequirePackage{amssymb}
\RequirePackage{scalerel}
\RequirePackage{fancyhdr}
\RequirePackage{titletoc}
\RequirePackage{titlesec}
\RequirePackage{mathrsfs}
\RequirePackage{enumitem}
\RequirePackage{hyperref}
\RequirePackage{eurosym}
\RequirePackage{animate}
\RequirePackage{tabularx}
\RequirePackage{graphicx}
\RequirePackage{tikz}
\RequirePackage[european, americaninductors, straightvoltages]{circuitikz}
\RequirePackage{pgf}
\RequirePackage{pgfplots}
\RequirePackage{numprint}
\RequirePackage{chemfig}
\RequirePackage{pdfpages}
\RequirePackage{colortbl}
\RequirePackage{relsize,exscale}
\RequirePackage{stmaryrd}
\RequirePackage[most]{tcolorbox}
\RequirePackage[ddmmyyyy]{datetime}
\RequirePackage{cleveref}
\RequirePackage{xargs}
\RequirePackage{xparse}
\RequirePackage{ifthen}
\RequirePackage{lmodern}
\RequirePackage{cancel}
\RequirePackage{bbm}
% \RequirePackage[e]{esvect}
\ExplSyntaxOn
\NewDocumentCommand{\DefineDictionary}{mm}
 {
  \arclupus_dict_def:nn { #1 } { #2 }
 }

\seq_new:N \l__arclupus_dict_temp_seq

\cs_new_protected:Nn \arclupus_dict_def:nn
 {
  \prop_gclear_new:c { g_arclupus_#1_dict_prop }
  \clist_map_inline:nn { #2 }
   {
    \__arclupus_dict_add:nn { #1 } { ##1 }
   }
  \cs_new:cpn { #1 } ##1 { \prop_item:cn { g_arclupus_#1_dict_prop } { ##1 } }
 }

\cs_new_protected:Nn \__arclupus_dict_add:nn
 {
  \seq_set_split:Nnn \l__arclupus_dict_temp_seq { / } { #2 }
  \prop_gput:cxx { g_arclupus_#1_dict_prop }
   {
    \seq_item:Nn \l__arclupus_dict_temp_seq { 1 }
   }
   {
    \seq_item:Nn \l__arclupus_dict_temp_seq { 2 }
   }
 }
\cs_generate_variant:Nn \prop_gput:Nnn { cxx }
\ExplSyntaxOff
\let\oldvec\vec

\DeclareOption{vec>}{
	\renewcommand{\vec}[1]{{\oldvec{#1}}}
	\newcommand{\uni}[1]{{\hat{#1}}}
	\newcommand{\normvec}[1]{{\left\Vert\vec{#1}\right\Vert}}
	\renewcommand{\Vec}[1]{{\vv{#1}}}
	\newcommand{\Uni}[1]{{\widehat{#1}}}
	\newcommand{\normVec}[1]{{\left\Vert\Vec{#1}\right\Vert}}
	\newcommand{\nbl}{{\vec{\nabla}}}
}
\DeclareOption{vecb}{
	\renewcommand{\vec}[1]{{\boldsymbol{#1}}}
	\newcommand{\uni}[1]{{\boldsymbol{\hat{#1}}}}
	\newcommand{\Uni}[1]{{\boldsymbol{\widehat{#1}}}}
	\newcommand{\normvec}[1]{{\left\Vert\boldsymbol{#1}\right\Vert}}
	\renewcommand{\Vec}[1]{\vec{#1}}
	\newcommand{\normVec}[1]{\normvec{#1}}
	\newcommand{\nbl}{{\boldsymbol{\nabla}}}
}
\DeclareOption{vecB}{
	\renewcommand{\vec}[1]{{\boldsymbol{\mathbf{#1}}}}
	\newcommand{\uni}[1]{{\boldsymbol{\hat{\mathbf{#1}}}}}
	\newcommand{\Uni}[1]{{\boldsymbol{\widehat{\mathbf{#1}}}}}
	\newcommand{\normvec}[1]{{\left\Vert\boldsymbol{\mathbf{#1}}\right\Vert}}
	\renewcommand{\Vec}[1]{\vec{#1}}
	\newcommand{\normVec}[1]{\normvec{#1}}
	\newcommand{\nbl}{{\boldsymbol{\nabla}}}
}

\DeclareOption{nbl}{
	\renewcommand{\div}{\nbl\cdot}
	\newcommand{\grad}{\nbl}
	\newcommand{\rot}{\nbl\times}
	\newcommand{\curl}{\nbl\times}
}
\DeclareOption{romFr}{
	\let\div\relax\DeclareMathOperator{\div}{div}
	\DeclareMathOperator{\grad}{\Vec{\mathrm{grad}}}
	\DeclareMathOperator{\rot}{\Vec{\mathrm{rot}}}
}
\DeclareOption{romEn}{
	\let\div\relax\DeclareMathOperator{\div}{div}
	\DeclareMathOperator{\grad}{\Vec{\mathrm{grad}}}
	\DeclareMathOperator{\curl}{\Vec{\mathrm{curl}}}
}
\DeclareOption{matsfbf}{
	\newcommand{\matrc}[1]{\boldsymbol{\mathsf{#1}}}
	\newcommand{\matrcop}[1]{\matrc{#1}}
}
\DeclareOption{matsf}{
	\newcommand{\matrc}[1]{\mathsf{#1}}
	\newcommand{\matrcop}[1]{\matrc{#1}}
}
\DeclareOption{matrm}{
	\newcommand{\matrc}[1]{#1}
	\newcommand{\matrcop}[1]{\mathrm{#1}}
}
\DeclareOption{fr}{
	\newcommand{\lang}[1]{#1}
}
\DeclareOption{en}{
	\DefineDictionary{lang}{
		Définition/Definition,
		Propriété/Property,
		Théorème/Theorem,
		Proposition/Proposition,
		Corollaire/Corollary,
		Lemme/Lemma,
		Exemple/Example,
		Remarque/Remark}
}

\ProvidesPackage{presets}

\newif\ifmypackage@geometry
\mypackage@geometrytrue

\DeclareOption{nogeometry}{\mypackage@geometryfalse}

\ProcessOptions\relax

\ifmypackage@geometry
  \RequirePackage{geometry}
\fi

\definecolor{bleuu}{RGB}{76,113,150}
\frenchbsetup{StandardLists=true}

\renewcommand{\rmdefault}{put}



\renewcommand{\i}{\mathrm{i}}
\renewcommand{\j}{\mathrm{j}}
\renewcommand{\d}{\mathrm{d}}
\DeclareMathOperator{\e}{e}
\DeclareMathOperator{\sign}{sign}
\DeclareMathOperator{\sinc}{sinc}
\DeclareMathOperator{\sh}{sh}
\DeclareMathOperator{\ch}{ch}
\let\th\relax\DeclareMathOperator{\th}{th}
\DeclareMathOperator{\argch}{argch}
\DeclareMathOperator{\argsh}{argsh}
\DeclareMathOperator{\argth}{argth}
\DeclareMathOperator{\argcosh}{argcosh}
\DeclareMathOperator{\argsinh}{argsinh}
\DeclareMathOperator{\argtanh}{argtanh}
\DeclareMathOperator{\argcoth}{argcoth}
\DeclareMathOperator{\arccot}{arccot}
\DeclareMathOperator{\arcsec}{arcsec}
\DeclareMathOperator{\arccsc}{arccsc}
\DeclareMathOperator{\rg}{rg}
\DeclareMathOperator{\vect}{Vect}
\DeclareMathOperator{\cov}{cov}
\newcommand{\Cov}{\matrcop{Cov}}
\DeclareMathOperator{\supp}{Supp}
\DeclareMathOperator{\peigne}{\amalg\hspace*{-0.75ex}\amalg}
\DeclareMathOperator{\re}{Re}
\let\im\relax\DeclareMathOperator{\im}{Im}
\let\ker\relax\DeclareMathOperator{\ker}{Ker}	
\let\sp\relax\DeclareMathOperator{\sp}{Sp}
\DeclareMathOperator{\tr}{tr}
\DeclareMathOperator{\id}{id}
\newcommand{\com}{\matrcop{Com}}
\newcommand{\mat}{\matrcop{Mat}}
\newcommand{\pass}{\matrcop{Pass}}
\newcommand{\diag}{\matrcop{Diag}}
\DeclareMathOperator{\dom}{dom}
\DeclareMathOperator{\card}{card}
\newcommand{\concat}{\perp\!\!\!\perp}
\let\o\relax\DeclareMathOperator{\o}{o}
\let\O\relax\DeclareMathOperator{\O}{O}
\DeclareMathOperator*\bigcircop{\scalerel*{\bigcirc}{\bigodot}}


\renewcommand{\t}[1]{{^\mathrm{t}\!#1}}
\newcommand{\abs}[1]{{\left\vert#1\right\vert}}
\newcommand{\norm}[1]{\left\Vert#1\right\Vert}
\renewcommand{\bar}[1]{\overline{#1}}
\newcommand{\intrr}[1]{\overset{\circ}{#1}}
\newcommand{\unit}[1]{\,\mathrm{#1}\,}
\newcommand{\dln}[1]{\ensuremath{\frac{\d{#1}}{#1}}}

\newcommandx{\dydx}[4][1=,3=t,4=]{\ensuremath{\frac{\d^{#1#4}#2}{\d^{#4}{#3}^{#1}}}}

\newcommandx{\ddx}[4][1=,3=t,4=]{\ensuremath{\frac{\d^{{#1}{#4}}}{\d^{#4}{#3}^{#1}}\!\!\left({#2}\right)}}

\newcommandx{\DyDx}[4][1=,3=t,4=]{\ensuremath{\frac{\mathrm{D}^{#1#4}#2}{\mathrm{D}^{#4}{#3}^{#1}}}}

\newcommandx{\DDx}[4][1=,3=t,4=]{\ensuremath{\frac{\mathrm{D}^{{#1}{#4}}}{\mathrm{D}^{#4}{#3}^{#1}}\!\!\left({#2}\right)}}

\newcommandx{\Dydx}[4][1=,3=t,4=]{\ensuremath{\frac{\partial^{#1#4}#2}{\partial^{#4}{#3}^{#1}}}}

\newcommandx{\Ddx}[4][1=,3=t,4=]{\ensuremath{\frac{\partial^{{#1}{#4}}}{\partial^{#4}{#3}^{#1}}\!\!\left({#2}\right)}}

\everymath{\displaystyle}

\pgfplotsset{compat=newest}
\usetikzlibrary{arrows}

\newcommand{\tbm}[1]{
	\begin{tcolorbox}[
		enhanced
		,enforce breakable
		,colback = darkgray!10
		,segmentation style = {darkgray}
		,frame hidden
		,boxrule = 0sp
		,borderline west = {2pt}{0pt}{darkgray}
		,sharp corners
		,detach title
		,before upper = \tcbtitle\par\smallskip
		,coltitle = red
		,fonttitle = \sffamily\bfseries\boldmath\large\Large
		,description font = \mdseries
		,terminator sign dash
		,separator sign none
		,title = {Table des matières}
		,left=6mm 
		,right=6mm]
	\printcontents[#1]{ }{1}[3]{}
	\end{tcolorbox}}

\DefineDictionary{hab}{
	Définition/Periwinkle,
	Propriété/OrangeRed,
	Théorème/OrangeRed,
	Proposition/OrangeRed,
	Corollaire/OrangeRed,
	Lemme/OrangeRed,
	Exemple/black,
	Remarque/teal!90}
\DefineDictionary{fond}{
	Définition/Periwinkle!10,
	Propriété/OrangeRed!10,
	Théorème/OrangeRed!10,
	Proposition/OrangeRed!10,
	Corollaire/OrangeRed!10,
	Lemme/OrangeRed!10,
	Exemple/white,
	Remarque/teal!10}
\DefineDictionary{lbl}{
	Définition/def,
	Propriété/pte,
	Théorème/thm,
	Proposition/prop,
	Corollaire/cor,
	Lemme/lem,
	Exemple/ex,
	Remarque/rq}

\newcommand{\minuscules}[1]{%
\def\arg{#1}%
\lowercase\expandafter{\expandafter\def\expandafter\arg\expandafter{\arg}}%
\arg
}

\newcommand{\ProvideTcbTheoremPerso}[1]{
	\ProvideTcbTheorem[number within=subsection, crefname={\minuscules{\lang{#1}}}{\minuscules{\lang{#1}}s},Crefname={\lang{#1}}{\lang{#1}s}]{#1}{\lang{#1}}{
		enhanced,
		enforce breakable,
		lower separated=false,
		colback=\fond{#1},
		sharp corners,
		frame hidden,
		boxrule=0mm,
		titlerule = -.1mm,
		toptitle = 1ex,
		borderline west = {2pt}{0mm}{\hab{#1}},
		fonttitle=\bfseries, % \sffamily\large\boldmath
		colbacktitle=\fond{#1},
		coltitle=\hab{#1},
		description font = \bfseries,
		theorem hanging indent=0pt,
		label type = theorem,
		separator sign dash
	}{\lbl{#1}}
}

\ProvideTcbTheoremPerso{Définition}
\ProvideTcbTheoremPerso{Propriété}
\ProvideTcbTheoremPerso{Théorème}
\ProvideTcbTheoremPerso{Proposition}
\ProvideTcbTheoremPerso{Corollaire}
\ProvideTcbTheoremPerso{Lemme}
\ProvideTcbTheoremPerso{Remarque}
\ProvideTcbTheoremPerso{Exemple}

\NewDocumentEnvironment{Simple}{O{} m m m}{\begin{#2}[#1]{#3}{#4}}{\end{#2}}
\NewDocumentEnvironment{Multi}{O{} m m m}{\begin{#2}[#1]{#3}{#4}\begin{itemize}[label=\color{\hab{#2}}\textbullet, font=\large\sffamily, align=left, leftmargin=*]}{\end{itemize}\end{#2}}

\NewDocumentEnvironment{Preuve}{O{} m m}{\begin{#2*}[opacityback=0,opacitybacktitle=0,theorem number, #1]{\rmfamily\normalsize\textit{Démonstration} $-$ \Cref{\lbl{#2}:#3}}}{\end{#2*}}

\endinput